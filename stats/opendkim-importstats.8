.TH opendkim-importstats 8 "The OpenDKIM Project"
.SH NAME
.B opendkim-importstats
- DKIM statistics import tool
.SH SYNOPSIS
.B opendkim-importstats
[options]
.SH DESCRIPTION
.B opendkim-importstats
imports collected DKIM operational statistics into an SQL database.
Statistics are collected by the
.I opendkim(8)
filter into a local database file and output in a tabulated format by the
.I opendkim-stats(8)
tool.  See their respective manual pages for further information.  The
tabulated format is appropriate for importing into an SQL database.

The script can also be used to receive piped mail that is in the output
format generated by
.I opendkim-stats(8),
allowing collection of statistics from many
.I opendkim(8)
filters via a mail server.  For example, a
.I cron(8)
job can call
.I opendkim-stats(8)
with specific command line options to generate tabulated output and mail
it to some central address that is actually an alias that pipes that message
to this script which will conduct the import.

The current implementation presumes the use of
.I mysql(8)
as the SQL backend.
.SH OPTIONS
.TP
.I -D
Include domain names in output (by default, the output is anonymized).
.TP
.I -d name
Specifies the name of the SQL database into which records should be
imported.  The default is
.I opendkim.
.TP
.I -p password
Specifies the password that should be used to authenticate to the SQL
database.  The default is
.I opendkim.
.TP
.I -s dbfile
Names the local database file that should be accessed using
.I opendkim-stats(8)
to extract records to be inserted into the SQL database.  The local
database file will be reset after the import attempt.  By default the
report is read from standard input instead of from a database, presuming
the report will be mailed.
.TP
.I -u user
Specifies the password that should be used to authenticate to the SQL
database.  The default is
.I opendkim.
.SH VERSION
This man page covers the version of
.I opendkim-importstats
that shipped with version 2.1.0 of
.I OpenDKIM.
.SH COPYRIGHT
Copyright (c) 2010, The OpenDKIM Project.  All rights reserved.
.SH SEE ALSO
.I opendkim(8),
.I opendkim.conf(5)
.P
RFC4871 - DomainKeys Identified Mail
